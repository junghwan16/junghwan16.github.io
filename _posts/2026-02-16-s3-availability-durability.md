---
layout: single
title: "AWS S3에서 9 세어 보기 — 가용성과 내구성의 차이"
date: 2026-02-16 13:00:00 +0900
categories: [backend, infrastructure]
---

AWS S3 Standard의 스펙을 보면 두 가지 숫자가 눈에 띈다.

| 항목 | 수치 | 9의 개수 |
|---|---|---|
| 가용성(Availability) | 99.99% | 4개 |
| 내구성(Durability) | 99.999999999% | **11개** |

가용성 Four 9s(99.99%)는 1년에 약 52분 정도 접근이 안 될 수 있다는 뜻이다. 반면 내구성 Eleven 9s(99.999999999%)는 객체 10,000개를 저장하면 평균적으로 **1,000만 년에 1개**를 잃을 수 있다는 뜻이다.

가용성과 내구성은 다른 개념이다.

- **가용성**: 지금 접근할 수 있는가? (일시적 장애)
- **내구성**: 데이터가 사라지지 않는가? (영구적 손실)

S3에 잠깐 접속이 안 될 수는 있어도(가용성), 저장한 파일이 증발할 확률은 거의 없다(내구성).

---

## S3는 어떻게 11 Nines를 달성하는가

S3 Standard는 객체를 **최소 3개의 가용 영역(AZ)**에 자동으로 복제한다.

```
PUT 요청
  → AZ-a에 저장
  → AZ-b에 복제
  → AZ-c에 복제
  → 3곳 모두 완료 후 200 OK 응답
```

하나의 AZ가 통째로 날아가도 나머지 두 곳에 데이터가 살아있다. 여기에 체크섬 검증, 자동 복구까지 더해져 11 Nines가 나온다.

반면 가용성이 "겨우" 4 Nines인 이유는 S3 자체 서비스 인프라(API 엔드포인트, 인증, 메타데이터 등)에 일시적 장애가 발생할 수 있기 때문이다. 데이터는 안전하지만, 접근 경로가 잠깐 막힐 수 있다.

---

## 스토리지 클래스별 차이

모든 S3 스토리지 클래스가 같은 스펙은 아니다.

| 스토리지 클래스 | 내구성 | 가용성 | AZ | 용도 |
|---|---|---|---|---|
| Standard | 11 Nines | 99.99% | ≥ 3 | 자주 접근하는 데이터 |
| Standard-IA | 11 Nines | 99.9% | ≥ 3 | 드물게 접근, 즉시 필요 |
| One Zone-IA | 11 Nines* | 99.5% | **1** | 재생성 가능한 데이터 |
| Glacier Instant | 11 Nines | 99.9% | ≥ 3 | 아카이브, 즉시 조회 |
| Glacier Deep Archive | 11 Nines | 99.99% | ≥ 3 | 장기 아카이브 (12시간 복원) |

*One Zone-IA는 단일 AZ에만 저장한다. 해당 AZ가 물리적으로 파괴되면 데이터를 잃는다. 내구성 11 Nines는 AZ 내에서의 수치다.

핵심은 **가용성은 클래스마다 다르지만, 내구성은 One Zone-IA를 제외하면 모두 동일**하다는 점이다.

---

## 실제로 S3 장애가 발생하면

2017년 2월 28일, us-east-1 리전에서 S3 대규모 장애가 발생했다. 운영자가 디버깅 중 의도보다 많은 서버를 내리는 명령을 실행한 것이 원인이었다.

이 장애로 S3에 의존하던 수많은 서비스가 함께 멈췄다. S3에 호스팅된 이미지, JS 파일이 로드되지 않아 웹사이트들이 깨졌고, 심지어 AWS 자체 상태 대시보드도 S3에 의존하고 있어서 장애 상태를 표시하지 못했다.

이 사건이 보여주는 것:

- **가용성 장애**였다. 데이터는 손실되지 않았다 (내구성은 유지).
- S3를 SPOF로 사용하면 연쇄 장애가 발생한다.
- 높은 내구성이 높은 가용성을 보장하지 않는다.

---

## 설계 시 고려할 점

| 상황 | 대응 |
|---|---|
| S3에 정적 파일을 서빙한다 | CloudFront를 앞에 두어 캐싱. S3 장애 시에도 캐시에서 서빙 |
| 중요 데이터를 S3에 저장한다 | Cross-Region Replication으로 다른 리전에 복제 |
| 비용을 줄이고 싶다 | Lifecycle Policy로 오래된 객체를 IA → Glacier로 자동 전환 |
| 재생성 가능한 임시 데이터다 | One Zone-IA로 비용 절감 (AZ 장애 리스크 수용) |

가용성과 내구성의 차이를 이해하면, 서비스 특성에 맞는 스토리지 클래스와 아키텍처를 선택할 수 있다.

---

## 참고자료

- [Amazon S3 Storage Classes](https://aws.amazon.com/s3/storage-classes/) — S3 스토리지 클래스별 가용성·내구성 스펙
- [Amazon S3 FAQs](https://aws.amazon.com/s3/faqs/) — S3 내구성 11 Nines에 대한 공식 설명
- [Summary of the Amazon S3 Service Disruption](https://aws.amazon.com/message/41926/) — 2017년 S3 장애 사후 분석 (AWS 공식)
